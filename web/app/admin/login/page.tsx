'use client'
import { useState } from 'react'
export default function LoginPage(){const [pass,setPass]=useState('');const [err,setErr]=useState('');const [loading,setLoading]=useState(false);async function onSubmit(e:any){e.preventDefault();setLoading(true);setErr('');const res=await fetch('/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({pass})});setLoading(false);if(res.ok){location.href='/admin'}else{const j=await res.json().catch(()=>({}));setErr(j.error||'Невірний пароль')}}return(<div className='max-w-sm mx-auto mt-10 card'><h1 className='text-xl font-semibold mb-4'>Вхід в адмінку</h1><form onSubmit={onSubmit} className='space-y-3'><input className='input' type='password' placeholder='Пароль' value={pass} onChange={e=>setPass(e.target.value)} />{err&&<div className='text-red-600 text-sm'>{err}</div>}<button className='btn btn-primary w-full' disabled={loading}>{loading?'Вхід…':'Увійти'}</button></form></div>)}
