(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{8984:function(e,t,n){Promise.resolve().then(n.bind(n,7564))},7564:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i},dynamic:function(){return r}});var s=n(7437),a=n(2265),c=n(6463);let r="force-dynamic";function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;if("undefined"==typeof document)return;let s=new Date;s.setTime(s.getTime()+864e5*n);let a="expires="+s.toUTCString();document.cookie="".concat(e,"=").concat(encodeURIComponent(t),"; ").concat(a,"; path=/; SameSite=Lax")}function u(){let e=(0,c.useRouter)(),t=(0,c.useSearchParams)(),[n,r]=(0,a.useState)(""),[u,i]=(0,a.useState)(!1),l=t.get("to")||"/admin/campaigns";return(0,a.useEffect)(()=>{"undefined"!=typeof document&&(document.cookie.includes("admin_pass=")||document.cookie.includes("admin_token="))&&e.replace(l)},[e,l]),(0,s.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:(0,s.jsxs)("form",{onSubmit:function(t){t.preventDefault();let s=n.trim();s&&(o("admin_pass",s),o("admin_token",s),e.replace(l))},className:"w-full max-w-md rounded-2xl border p-6 shadow-sm",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Адмін доступ"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Введи значення змінної ",(0,s.jsx)("code",{children:"ADMIN_PASS"})," (або"," ",(0,s.jsx)("code",{children:"ADMIN_TOKEN"}),"). Воно тимчасово збережеться в cookies для доступу до адмін-ендпойнтів."]}),(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Адмін токен"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("input",{type:u?"text":"password",value:n,onChange:e=>r(e.target.value),placeholder:"Встав сюди токен…",className:"flex-1 rounded-md border px-3 py-2 outline-none",autoFocus:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>i(e=>!e),className:"rounded-md border px-3 py-2","aria-label":"toggle-visibility",children:u?"Сховати":"Показати"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"Увійти"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-4",children:["Після успіху перенаправимо на ",(0,s.jsx)("code",{children:l}),"."]})]})})}function i(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"p-6 text-center",children:"Завантаження…"}),children:(0,s.jsx)(u,{})})}},6463:function(e,t,n){"use strict";var s=n(1169);n.o(s,"useParams")&&n.d(t,{useParams:function(){return s.useParams}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8984)}),_N_E=e.O()}]);