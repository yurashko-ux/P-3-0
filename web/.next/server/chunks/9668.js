"use strict";exports.id=9668,exports.ids=[9668],exports.modules={9668:(t,e,o)=>{o.d(e,{a:()=>a,getCompaniesByGroup:()=>r,getCompany:()=>i});var n=o(7582);async function a(t){try{if(t){let e="string"==typeof t?parseInt(t,10):t;if(!isNaN(e))try{let t=await i(e);return t?[t]:[]}catch(t){console.warn(`[altegio/companies] Failed to get specific company ${e}, falling back to list:`,t)}}let e=await (0,n.B)("/companies"),o=[];if(Array.isArray(e)?o=e:e&&"object"==typeof e&&"data"in e&&(o=e.data||[]),t&&o.length>0){let e="string"==typeof t?t:String(t),n=o.filter(o=>{let n=String(o.id||o.company_id||"");return n===e||n===String(t)});if(n.length>0)return console.log(`[altegio/companies] Filtered companies by ID ${t}: found ${n.length} out of ${o.length}`),n;console.warn(`[altegio/companies] Company with ID ${t} not found in list. Total companies: ${o.length}`)}return o}catch(t){throw console.error("[altegio/companies] Failed to get companies:",t),t}}async function i(t){try{let e=await (0,n.B)(`/company/${t}`);if(e&&"object"==typeof e){if("id"in e)return e;if("data"in e&&e.data)return e.data}return null}catch(e){return console.error(`[altegio/companies] Failed to get company ${t}:`,e),null}}async function r(t){try{let e=String(t);for(let o of[`/companies?business_group_id=${e}`,`/companies?main_group_id=${e}`,`/companies?group_id=${e}`,`/business_groups/${e}/companies`,`/groups/${e}/companies`])try{let e=await (0,n.B)(o),a=[];if(Array.isArray(e)?a=e:e&&"object"==typeof e&&"data"in e&&(a=Array.isArray(e.data)?e.data:[]),a.length>0)return console.log(`[altegio/companies] Found ${a.length} companies by group ID ${t} using ${o}`),a}catch(t){console.log(`[altegio/companies] Endpoint ${o} failed, trying next...`);continue}return[]}catch(e){return console.error(`[altegio/companies] Failed to get companies by group ID ${t}:`,e),[]}}}};