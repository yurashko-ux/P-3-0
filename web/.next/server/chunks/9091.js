"use strict";exports.id=9091,exports.ids=[9091],exports.modules={9091:(i,n,e)=>{e.d(n,{checkCampaignVUniqueness:()=>l});var a=e(4332);function r(i){return i&&String(i).toLowerCase().trim()||null}async function l(i,n,e){let l=r(i),t=r(n);if(!l&&!t)return null;for(let u of(await a.kvRead.listCampaigns())){if(e&&u.id===e)continue;let a=r(u.v1??u.rules?.v1?.value??u.rules?.V1?.value??u.rules?.variant1?.value),o=r(u.v2??u.rules?.v2?.value??u.rules?.V2?.value??u.rules?.variant2?.value);if(l){if(a===l)return{ok:!1,error:`Значення V1 "${i}" вже використовується в кампанії "${u.name||u.id}"`,conflictingValue:l,conflictingCampaign:{id:u.id,name:u.name||"Без назви"}};if(o===l)return{ok:!1,error:`Значення V1 "${i}" конфліктує з V2 в кампанії "${u.name||u.id}"`,conflictingValue:l,conflictingCampaign:{id:u.id,name:u.name||"Без назви"}}}if(t){if(o===t)return{ok:!1,error:`Значення V2 "${n}" вже використовується в кампанії "${u.name||u.id}"`,conflictingValue:t,conflictingCampaign:{id:u.id,name:u.name||"Без назви"}};if(a===t)return{ok:!1,error:`Значення V2 "${n}" конфліктує з V1 в кампанії "${u.name||u.id}"`,conflictingValue:t,conflictingCampaign:{id:u.id,name:u.name||"Без назви"}}}}return null}}};