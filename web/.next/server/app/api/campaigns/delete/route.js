"use strict";(()=>{var e={};e.id=9663,e.ids=[9663,7560],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},2728:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>m,requestAsyncStorage:()=>v,routeModule:()=>f,serverHooks:()=>h,staticGenerationAsyncStorage:()=>_});var n={};r.r(n),r.d(n,{POST:()=>d,runtime:()=>c});var s=r(9303),i=r(8716),a=r(670),o=r(7070),l=r(7560),u=r(206);let c="nodejs",p="cmp:list:items";async function d(e){try{let{id:t}=await e.json(),r=(0,u.kg)(t);if(!r)return o.NextResponse.json({ok:!1,error:"id required"},{status:400});let n=await l.kv.get(p),s=((0,u.D0)(n)||[]).map(e=>(0,u.kg)(e?.id)===r?{...e,deleted:!0}:e);return await l.kv.set(p,s),o.NextResponse.json({ok:!0})}catch(e){return o.NextResponse.json({ok:!1,error:e?.message??"Delete error"},{status:500})}}let f=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/campaigns/delete/route",pathname:"/api/campaigns/delete",filename:"route",bundlePath:"app/api/campaigns/delete/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/campaigns/delete/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:v,staticGenerationAsyncStorage:_,serverHooks:h}=f,g="/api/campaigns/delete/route";function m(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:_})}},206:(e,t,r)=>{function n(e){let t=e;for(let e=0;e<10&&null!=t;e++){if("object"==typeof t&&"value"in t&&1===Object.keys(t).length){t=t.value;continue}if("string"==typeof t){let e=t.trim();if(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")||e.startsWith('"'))try{t=JSON.parse(e);continue}catch{}}break}return t}function s(e){let t=n(e);if(null==t)return"";if("string"==typeof t||"number"==typeof t)return String(t);if("object"==typeof t){if("id"in t)return String(t.id);if("value"in t)return String(t.value)}return String(t)}r.d(t,{D0:()=>n,kg:()=>s})},7560:(e,t,r)=>{r.d(t,{kv:()=>o});var n=r(242),s=null;process.env.UPSTASH_DISABLE_TELEMETRY="1";var i=class extends n.Redis{async *scanIterator(e){let t,r=0;do for(let n of([r,t]=await this.scan(r,e),t))yield n;while(0!==r)}async *hscanIterator(e,t){let r,n=0;do for(let s of([n,r]=await this.hscan(e,n,t),r))yield s;while(0!==n)}async *sscanIterator(e,t){let r,n=0;do for(let s of([n,r]=await this.sscan(e,n,t),r))yield s;while(0!==n)}async *zscanIterator(e,t){let r,n=0;do for(let s of([n,r]=await this.zscan(e,n,t),r))yield s;while(0!==n)}};function a(e){return new i({cache:"default",...e})}new Proxy({},{get(e,t,r){if("then"===t||"parse"===t)return Reflect.get(e,t,r);if(!s){if(!process.env.KV_REST_API_URL||!process.env.KV_REST_API_TOKEN)throw Error("@vercel/kv: Missing required environment variables KV_REST_API_URL and KV_REST_API_TOKEN");console.warn('\x1b[33m"The default export has been moved to a named export and it will be removed in version 1, change to import { kv }\x1b[0m"'),s=a({url:process.env.KV_REST_API_URL,token:process.env.KV_REST_API_TOKEN})}return Reflect.get(s,t)}});var o=new Proxy({},{get(e,t){if(!s){if(!process.env.KV_REST_API_URL||!process.env.KV_REST_API_TOKEN)throw Error("@vercel/kv: Missing required environment variables KV_REST_API_URL and KV_REST_API_TOKEN");s=a({url:process.env.KV_REST_API_URL,token:process.env.KV_REST_API_TOKEN})}return Reflect.get(s,t)}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[8948,5972,242],()=>r(2728));module.exports=n})();