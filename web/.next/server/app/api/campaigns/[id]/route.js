"use strict";(()=>{var e={};e.id=8461,e.ids=[8461,7560],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},9150:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>y,patchFetch:()=>T,requestAsyncStorage:()=>E,routeModule:()=>R,serverHooks:()=>w,staticGenerationAsyncStorage:()=>h});var a={};t.r(a),t.d(a,{DELETE:()=>f,dynamic:()=>d,runtime:()=>p});var n=t(9303),s=t(8716),i=t(670),o=t(7070),c=t(7560),l=t(4332);let p="nodejs",d="force-dynamic",u="cmp:ids",_=e=>`cmp:item:${e}`,v=e=>Array.from(new Set(e.filter(Boolean)));async function m(){let e=await c.kv.get(u)??[],r=[];try{r=await l.kvRead.lrange("cmp:ids:list",0,-1)}catch{}return v([...Array.isArray(e)?e:[],...Array.isArray(r)?r:[]])}async function f(e,{params:r}){let{id:t}=r;if(!t)return o.NextResponse.json({ok:!1,error:"no id"},{status:400});await c.kv.del(_(t)).catch(()=>null);let a=v((await m()).filter(e=>e!==t));return await c.kv.set(u,a),new o.NextResponse(null,{status:204})}let R=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/campaigns/[id]/route",pathname:"/api/campaigns/[id]",filename:"route",bundlePath:"app/api/campaigns/[id]/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/campaigns/[id]/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:E,staticGenerationAsyncStorage:h,serverHooks:w}=R,y="/api/campaigns/[id]/route";function T(){return(0,i.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:h})}},7560:(e,r,t)=>{t.d(r,{kv:()=>o});var a=t(242),n=null;process.env.UPSTASH_DISABLE_TELEMETRY="1";var s=class extends a.Redis{async *scanIterator(e){let r,t=0;do for(let a of([t,r]=await this.scan(t,e),r))yield a;while(0!==t)}async *hscanIterator(e,r){let t,a=0;do for(let n of([a,t]=await this.hscan(e,a,r),t))yield n;while(0!==a)}async *sscanIterator(e,r){let t,a=0;do for(let n of([a,t]=await this.sscan(e,a,r),t))yield n;while(0!==a)}async *zscanIterator(e,r){let t,a=0;do for(let n of([a,t]=await this.zscan(e,a,r),t))yield n;while(0!==a)}};function i(e){return new s({cache:"default",...e})}new Proxy({},{get(e,r,t){if("then"===r||"parse"===r)return Reflect.get(e,r,t);if(!n){if(!process.env.KV_REST_API_URL||!process.env.KV_REST_API_TOKEN)throw Error("@vercel/kv: Missing required environment variables KV_REST_API_URL and KV_REST_API_TOKEN");console.warn('\x1b[33m"The default export has been moved to a named export and it will be removed in version 1, change to import { kv }\x1b[0m"'),n=i({url:process.env.KV_REST_API_URL,token:process.env.KV_REST_API_TOKEN})}return Reflect.get(n,r)}});var o=new Proxy({},{get(e,r){if(!n){if(!process.env.KV_REST_API_URL||!process.env.KV_REST_API_TOKEN)throw Error("@vercel/kv: Missing required environment variables KV_REST_API_URL and KV_REST_API_TOKEN");n=i({url:process.env.KV_REST_API_URL,token:process.env.KV_REST_API_TOKEN})}return Reflect.get(n,r)}})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[8948,5972,242,4332],()=>t(9150));module.exports=a})();