"use strict";(()=>{var e={};e.id=8873,e.ids=[8873],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7339:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d});var o={};r.r(o),r.d(o,{POST:()=>p});var s=r(9303),a=r(8716),n=r(670),i=r(7070);async function p(e){let t=process.env.ADMIN_PASS||"";if(!t)return i.NextResponse.json({ok:!1,error:"ADMIN_PASS is not set on server"},{status:500});let r={};try{let t=e.headers.get("content-type")||"";if(t.includes("application/json"))r=await e.json();else if(t.includes("application/x-www-form-urlencoded")){let t=await e.formData();r={password:String(t.get("password")||"")}}else r=await e.json().catch(()=>({}))}catch{}let o=r?.password??r?.admin??r?.token??"";if("string"!=typeof o||!o)return i.NextResponse.json({ok:!1,error:"Password is required"},{status:400});if(o!==t)return i.NextResponse.json({ok:!1,error:"Invalid password"},{status:401});let s=i.NextResponse.json({ok:!0});return s.cookies.set("admin_token",o,{path:"/",httpOnly:!1,secure:!0,sameSite:"lax",maxAge:604800}),s}let u=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/auth/login/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:c}=u,h="/api/auth/login/route";function g(){return(0,n.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:d})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[8948,5972],()=>r(7339));module.exports=o})();