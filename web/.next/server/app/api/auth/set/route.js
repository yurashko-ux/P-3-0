"use strict";(()=>{var e={};e.id=7968,e.ids=[7968],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6168:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var o={};r.r(o),r.d(o,{POST:()=>p,dynamic:()=>u});var s=r(9303),a=r(8716),n=r(670),i=r(7070);let u="force-dynamic";async function p(e){let t=process.env.ADMIN_PASS;if(!t)return i.NextResponse.json({ok:!1,error:"Server misconfigured: ADMIN_PASS is missing"},{status:500});let r={};try{r=await e.json()}catch{}if(r.logout){let e=i.NextResponse.json({ok:!0,logout:!0});return e.cookies.set("admin_token","",{path:"/",httpOnly:!0,sameSite:"lax",secure:!0,maxAge:0}),e}let o=(r.token||"").trim();if(!o||o!==t)return i.NextResponse.json({ok:!1,error:"Unauthorized: bad token"},{status:401});let s=i.NextResponse.json({ok:!0});return s.cookies.set("admin_token",o,{path:"/",httpOnly:!0,sameSite:"lax",secure:!0,maxAge:604800}),s}let d=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/auth/set/route",pathname:"/api/auth/set",filename:"route",bundlePath:"app/api/auth/set/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/auth/set/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=d,h="/api/auth/set/route";function x(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[8948,5972],()=>r(6168));module.exports=o})();