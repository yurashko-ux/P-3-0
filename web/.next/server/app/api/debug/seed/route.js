"use strict";(()=>{var e={};e.id=5909,e.ids=[5909],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9613:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>$,patchFetch:()=>A,requestAsyncStorage:()=>b,routeModule:()=>R,serverHooks:()=>P,staticGenerationAsyncStorage:()=>C});var r={};n.r(r),n.d(r,{GET:()=>v,POST:()=>x,dynamic:()=>u});var o=n(9303),a=n(8716),s=n(670),i=n(7070);let u="force-dynamic",c=process.env.KV_REST_API_URL,p=process.env.KV_REST_API_TOKEN;async function d(e,t){return(await fetch(`${c}${e}`,{...t,headers:{Authorization:`Bearer ${p}`,...t?.headers||{}},cache:"no-store"})).json()}async function l(e,t){let n="string"==typeof t?t:JSON.stringify(t);return d(`/set/${encodeURIComponent(e)}/${encodeURIComponent(n)}`,{method:"POST"})}async function m(e,...t){let n=t.map(encodeURIComponent).join("/");return d(`/lpush/${encodeURIComponent(e)}/${n}`,{method:"POST"})}async function g(e,t=0,n=-1){return d(`/lrange/${encodeURIComponent(e)}/${t}/${n}`)}async function h(e){return d(`/get/${encodeURIComponent(e)}`)}let f="campaigns:index:list",y=e=>`campaigns:${e}`;function _(e){return(Array.isArray(e?.result)?e.result:[]).map(e=>{if("string"==typeof e){try{let t=JSON.parse(e);if(Array.isArray(t)&&1===t.length&&"string"==typeof t[0])return t[0]}catch{}return e}return String(e)})}async function v(){if(!(c&&p))return i.NextResponse.json({ok:!1,error:"KV not configured"},{status:500});let e=_(await g(f,0,-1).catch(()=>({result:[]}))),t=e[0],n=t?await h(y(t)).catch(()=>({})):null;return i.NextResponse.json({ok:!0,index:e,sampleId:t,sample:n?.result??null},{headers:{"Cache-Control":"no-store"}})}async function x(){if(!(c&&p))return i.NextResponse.json({ok:!1,error:"KV not configured"},{status:500});let e=Date.now(),t=String(e),n=await l(y(t),{name:"Demo campaign",created_at:e,active:!0,base_pipeline_id:111,base_status_id:222,base_pipeline_name:"Нові Ліди",base_status_name:"Ігнорує",rules:{v1:{op:"contains",value:"ціна"},v2:{op:"equals",value:"привіт"}},exp:{},v1_count:0,v2_count:0,exp_count:0}),r=await m(f,t),o=_(await g(f,0,-1).catch(()=>({result:[]})));return i.NextResponse.json({ok:!0,created:t,setRes:n,pushRes:r,index:o},{headers:{"Cache-Control":"no-store"}})}let R=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/debug/seed/route",pathname:"/api/debug/seed",filename:"route",bundlePath:"app/api/debug/seed/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/debug/seed/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:b,staticGenerationAsyncStorage:C,serverHooks:P}=R,$="/api/debug/seed/route";function A(){return(0,s.patchFetch)({serverHooks:P,staticGenerationAsyncStorage:C})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[8948,5972],()=>n(9613));module.exports=r})();