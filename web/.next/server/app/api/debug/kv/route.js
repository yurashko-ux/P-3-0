"use strict";(()=>{var e={};e.id=2360,e.ids=[2360,7560],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},5901:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>T,patchFetch:()=>g,requestAsyncStorage:()=>f,routeModule:()=>v,serverHooks:()=>E,staticGenerationAsyncStorage:()=>R});var n={};r.r(n),r.d(n,{GET:()=>p,dynamic:()=>_,revalidate:()=>d,runtime:()=>u});var i=r(9303),s=r(8716),a=r(670),o=r(7070),l=r(7560),c=r(206);let u="nodejs",_="force-dynamic",d=0;async function p(){let e=(0,c.D0)(await l.kv.get("cmp:list:ids:RO"))??[],t=(0,c.D0)(await l.kv.get("cmp:list:ids:WR"))??[],r=(0,c.D0)(await l.kv.get("campaigns"));return o.NextResponse.json({ok:!0,time:new Date().toISOString(),env:{KV_REST_API_URL:!!process.env.KV_REST_API_URL,KV_REST_API_TOKEN:!!process.env.KV_REST_API_TOKEN,KV_REST_API_READ_ONLY_TOKEN:!!process.env.KV_REST_API_READ_ONLY_TOKEN},idsRO:e,idsWR:t,sample:Array.isArray(e)?e.slice(0,3).map(e=>({id:e,active:!1})):[],seeded:!!r||null})}let v=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/debug/kv/route",pathname:"/api/debug/kv",filename:"route",bundlePath:"app/api/debug/kv/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/debug/kv/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:f,staticGenerationAsyncStorage:R,serverHooks:E}=v,T="/api/debug/kv/route";function g(){return(0,a.patchFetch)({serverHooks:E,staticGenerationAsyncStorage:R})}},206:(e,t,r)=>{function n(e){let t=e;for(let e=0;e<10&&null!=t;e++){if("object"==typeof t&&"value"in t&&1===Object.keys(t).length){t=t.value;continue}if("string"==typeof t){let e=t.trim();if(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")||e.startsWith('"'))try{t=JSON.parse(e);continue}catch{}}break}return t}function i(e){let t=n(e);if(null==t)return"";if("string"==typeof t||"number"==typeof t)return String(t);if("object"==typeof t){if("id"in t)return String(t.id);if("value"in t)return String(t.value)}return String(t)}r.d(t,{D0:()=>n,kg:()=>i})},7560:(e,t,r)=>{r.d(t,{kv:()=>o});var n=r(242),i=null;process.env.UPSTASH_DISABLE_TELEMETRY="1";var s=class extends n.Redis{async *scanIterator(e){let t,r=0;do for(let n of([r,t]=await this.scan(r,e),t))yield n;while(0!==r)}async *hscanIterator(e,t){let r,n=0;do for(let i of([n,r]=await this.hscan(e,n,t),r))yield i;while(0!==n)}async *sscanIterator(e,t){let r,n=0;do for(let i of([n,r]=await this.sscan(e,n,t),r))yield i;while(0!==n)}async *zscanIterator(e,t){let r,n=0;do for(let i of([n,r]=await this.zscan(e,n,t),r))yield i;while(0!==n)}};function a(e){return new s({cache:"default",...e})}new Proxy({},{get(e,t,r){if("then"===t||"parse"===t)return Reflect.get(e,t,r);if(!i){if(!process.env.KV_REST_API_URL||!process.env.KV_REST_API_TOKEN)throw Error("@vercel/kv: Missing required environment variables KV_REST_API_URL and KV_REST_API_TOKEN");console.warn('\x1b[33m"The default export has been moved to a named export and it will be removed in version 1, change to import { kv }\x1b[0m"'),i=a({url:process.env.KV_REST_API_URL,token:process.env.KV_REST_API_TOKEN})}return Reflect.get(i,t)}});var o=new Proxy({},{get(e,t){if(!i){if(!process.env.KV_REST_API_URL||!process.env.KV_REST_API_TOKEN)throw Error("@vercel/kv: Missing required environment variables KV_REST_API_URL and KV_REST_API_TOKEN");i=a({url:process.env.KV_REST_API_URL,token:process.env.KV_REST_API_TOKEN})}return Reflect.get(i,t)}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[8948,5972,242],()=>r(5901));module.exports=n})();