"use strict";(()=>{var e={};e.id=1741,e.ids=[1741],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1560:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>x,patchFetch:()=>y,requestAsyncStorage:()=>I,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var r={};s.r(r),s.d(r,{GET:()=>p,dynamic:()=>u,runtime:()=>d});var n=s(9303),i=s(8716),o=s(670),a=s(7070),l=s(1756),c=s(4044);let u="force-dynamic",d="nodejs";async function p(e,{params:t}){try{(0,c.cC)();let e=process.env.ALTEGIO_COMPANY_ID;if(!e)return a.NextResponse.json({ok:!1,error:"ALTEGIO_COMPANY_ID not set in environment variables"},{status:400});let s=parseInt(e,10),r=parseInt(t.clientId,10);if(isNaN(s)||isNaN(r))return a.NextResponse.json({ok:!1,error:`Invalid company ID (${e}) or client ID (${t.clientId})`},{status:400});console.log(`[altegio/test/clients/${r}] Fetching full structure for client ${r}...`);let n=await (0,l.s)(s,r);if(!n)return a.NextResponse.json({ok:!1,error:`Client with ID ${r} not found`,clientId:r,companyId:s},{status:404});let i=Object.keys(n),o=["id","name","phone","email","created_at","updated_at","company_id"],u=i.filter(e=>!o.includes(e));return a.NextResponse.json({ok:!0,clientId:r,companyId:s,client:{...n,_meta:{allKeys:i,customFields:u,hasCustomFields:!!n.custom_fields,customFieldsKeys:n.custom_fields?Object.keys(n.custom_fields):[]}},rawStructure:JSON.stringify(n,null,2),customFieldsData:n.custom_fields||null,note:"Використовуй rawStructure для повного перегляду всіх полів"})}catch(s){console.error(`[altegio/test/clients/${t.clientId}] Error:`,s);let e=s instanceof Error?s.message:String(s);return a.NextResponse.json({ok:!1,error:e,clientId:t.clientId},{status:500})}}let m=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/altegio/test/clients/[clientId]/route",pathname:"/api/altegio/test/clients/[clientId]",filename:"route",bundlePath:"app/api/altegio/test/clients/[clientId]/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/altegio/test/clients/[clientId]/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:I,staticGenerationAsyncStorage:f,serverHooks:g}=m,x="/api/altegio/test/clients/[clientId]/route";function y(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,5972,7582,1756],()=>s(1560));module.exports=r})();