"use strict";(()=>{var e={};e.id=8599,e.ids=[8599],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},301:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c});var r={};a.r(r),a.d(r,{POST:()=>u,runtime:()=>p});var n=a(9303),i=a(8716),s=a(670),o=a(7070);let p="nodejs";async function u(e){let t="",a="/admin/campaigns2";try{if((e.headers.get("content-type")||"").includes("application/json")){let r=await e.json().catch(()=>({}));t=String(r.pass||""),a=String(r.next||a)}else{let r=await e.formData().catch(()=>null);r&&(t=String(r.get("pass")||""),a=String(r.get("next")||a))}}catch{}let r=(process.env.ADMIN_PASS||"").trim();if(!(!r||t===r))return o.NextResponse.json({ok:!1,error:"invalid pass"},{status:401});let n=o.NextResponse.redirect(new URL(a||"/admin/campaigns2",e.url),{status:303}),i=function(e){try{let t=new URL(e.url),a=(e.headers.get("x-forwarded-proto")||"").toLowerCase();return"https:"===t.protocol||"https"===a}catch{return!0}}(e);return n.cookies.set("admin","1",{path:"/",httpOnly:!1,sameSite:"lax",secure:i,maxAge:2592e3}),n.cookies.set("admin_pass",t,{path:"/",httpOnly:!1,sameSite:"lax",secure:i,maxAge:2592e3}),n}let l=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/login2/route",pathname:"/api/admin/login2",filename:"route",bundlePath:"app/api/admin/login2/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/admin/login2/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:m}=l,g="/api/admin/login2/route";function h(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:c})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,5972],()=>a(301));module.exports=r})();