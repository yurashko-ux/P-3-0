{"version":3,"file":"app/api/pipelines/route.js","mappings":"oFAAAA,CAAAA,EAAAC,OAAA,CAAAC,QAAA,0CCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,sWCGO,IAAMC,EAAU,OAOhB,eAAeC,EAAIC,CAAY,EACpC,IAAMC,EAAM,IAAIC,IAAIF,EAAIC,GAAG,EACrBE,EAAQF,EAAIG,YAAY,CAACC,GAAG,CAAC,SAC7BC,EAAS,CAAC,EAAEL,EAAIM,MAAM,CAAC,qBAAqB,EAAEJ,UAAAA,EAAoB,eAAiB,GAAG,CAAC,CAEvFK,EAAI,MAAMC,MAAMH,EAAQ,CAAEI,MAAO,UAAW,GAC5CC,EAAO,MAAMH,EAAEI,IAAI,GAGzB,GAAIT,UAAAA,EAEF,OAAOU,EAAAA,EAAYA,CAACD,IAAI,CAACE,MAAMC,OAAO,CAACJ,GAAQA,EAAOA,GAAMK,WAAa,EAAE,EAG7E,IAAMA,EAAYF,MAAMC,OAAO,CAACJ,GAAQA,EAAQA,GAAMK,WAAa,EAAE,CACrE,OAAOH,EAAAA,EAAYA,CAACD,IAAI,CAAC,CAAEI,UAAAA,CAAU,EACvC,CCnBA,IAAAC,EAAA,IAAwBC,EAAAC,mBAAmB,EAC3CC,WAAA,CACAC,KAAcC,EAAAC,CAAS,CAAAC,SAAA,CACvBC,KAAA,uBACAC,SAAA,iBACAC,SAAA,QACAC,WAAA,yBACA,EACAC,iBAAA,sDACAC,iBAVA,GAWAC,SAAYC,CACZ,GAIA,CAAQC,oBAAAA,CAAA,CAAAC,6BAAAA,CAAA,CAAAC,YAAAA,CAAA,EAAiElB,EACzEmB,EAAA,uBACA,SAAAC,IACA,MAAW,GAAAC,EAAAC,EAAA,EAAW,CACtBJ,YAAAA,EACAD,6BAAAA,CACA,EACA,CC1BO,IAAAM,EAAqBC,EAC5BC,EAAeC,EAAAC,CAAsB,CAAAC,IAAA,CAAM5B","sources":["webpack://_N_E/external commonjs \"node:async_hooks\"","webpack://_N_E/external commonjs \"node:buffer\"","webpack://_N_E/./app/api/pipelines/route.ts","webpack://_N_E/./app/api/pipelines/route.ts?c6a5","webpack://_N_E/?c646"],"sourcesContent":["module.exports = require(\"node:async_hooks\");","module.exports = require(\"node:buffer\");","// web/app/api/pipelines/route.ts\nimport { NextResponse } from 'next/server';\n\nexport const runtime = 'edge';\n\n/**\n * Проксі на /api/keycrm/pipelines\n * - за замовчуванням повертає { pipelines: Pipeline[] }\n * - підтримує ?shape=array для масиву\n */\nexport async function GET(req: Request) {\n  const url = new URL(req.url);\n  const shape = url.searchParams.get('shape');\n  const target = `${url.origin}/api/keycrm/pipelines${shape === 'array' ? '?shape=array' : ''}`;\n\n  const r = await fetch(target, { cache: 'no-store' });\n  const data = await r.json();\n\n  // Гарантуємо очікуваний формат для форми:\n  if (shape === 'array') {\n    // форма/код, який просить масив\n    return NextResponse.json(Array.isArray(data) ? data : data?.pipelines ?? []);\n  }\n  // форма/код, який очікує { pipelines }\n  const pipelines = Array.isArray(data) ? data : (data?.pipelines ?? []);\n  return NextResponse.json({ pipelines });\n}\n","import { AppRouteRouteModule } from \"next/dist/server/future/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/server/future/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/server/lib/patch-fetch\";\nimport * as userland from \"/Users/mykolay/P-3-0/web/app/api/pipelines/route.ts\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/pipelines/route\",\n        pathname: \"/api/pipelines\",\n        filename: \"route\",\n        bundlePath: \"app/api/pipelines/route\"\n    },\n    resolvedPagePath: \"/Users/mykolay/P-3-0/web/app/api/pipelines/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/pipelines/route\";\nfunction patchFetch() {\n    return _patchFetch({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\nexport { routeModule, requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, originalPathname, patchFetch,  };\n\n//# sourceMappingURL=app-route.js.map","import { EdgeRouteModuleWrapper } from \"next/dist/server/web/edge-route-module-wrapper\";\n// Import the userland code.\nimport * as module from \"next-app-loader?name=app%2Fapi%2Fpipelines%2Froute&page=%2Fapi%2Fpipelines%2Froute&pagePath=private-next-app-dir%2Fapi%2Fpipelines%2Froute.ts&appDir=%2FUsers%2Fmykolay%2FP-3-0%2Fweb%2Fapp&appPaths=%2Fapi%2Fpipelines%2Froute&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!private-next-app-dir/api/pipelines/route.ts?__next_edge_ssr_entry__\";\nexport const ComponentMod = module;\nexport default EdgeRouteModuleWrapper.wrap(module.routeModule);\n\n//# sourceMappingURL=edge-app-route.js.map"],"names":["module","exports","require","runtime","GET","req","url","URL","shape","searchParams","get","target","origin","r","fetch","cache","data","json","NextResponse","Array","isArray","pipelines","routeModule","module_compiled","AppRouteRouteModule","definition","kind","route_kind","x","APP_ROUTE","page","pathname","filename","bundlePath","resolvedPagePath","nextConfigOutput","userland","route_namespaceObject","requestAsyncStorage","staticGenerationAsyncStorage","serverHooks","originalPathname","patchFetch","patch_fetch","XH","ComponentMod","route_next_edge_ssr_entry_namespaceObject","next_edge_app_route_loaderabsolutePagePath_private_next_app_dir_2Fapi_2Fpipelines_2Froute_ts_page_2Fapi_2Fpipelines_2Froute_appDirLoader_bmV4dC1hcHAtbG9hZGVyP25hbWU9YXBwJTJGYXBpJTJGcGlwZWxpbmVzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwaXBlbGluZXMlMkZyb3V0ZSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBpcGVsaW5lcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm15a29sYXklMkZQLTMtMCUyRndlYiUyRmFwcCZhcHBQYXRocz0lMkZhcGklMkZwaXBlbGluZXMlMkZyb3V0ZSZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCE_3D_nextConfigOutput_preferredRegion_middlewareConfig_e30_3D_","edge_route_module_wrapper","a","wrap"],"sourceRoot":""}