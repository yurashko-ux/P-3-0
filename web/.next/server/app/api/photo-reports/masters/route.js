"use strict";(()=>{var e={};e.id=2801,e.ids=[2801],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8627:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>y,patchFetch:()=>v,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var r={};a.r(r),a.d(r,{GET:()=>u,dynamic:()=>d,runtime:()=>l});var n=a(9303),s=a(8716),i=a(670),o=a(7070),m=a(4528);let d="force-dynamic",l="nodejs";async function u(){try{let e=(0,m.N$)();return o.NextResponse.json({ok:!0,masters:e})}catch(e){return o.NextResponse.json({ok:!1,error:e instanceof Error?e.message:String(e)},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/photo-reports/masters/route",pathname:"/api/photo-reports/masters",filename:"route",bundlePath:"app/api/photo-reports/masters/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/photo-reports/masters/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:f,serverHooks:g}=p,y="/api/photo-reports/masters/route";function v(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}},4528:(e,t,a)=>{a.d(t,{Kf:()=>p,OT:()=>l,mC:()=>d,Wh:()=>m,N$:()=>o,y8:()=>u});let r=[{id:"master-test",name:"Тестовий майстер (Mykolay)",telegramUsername:"Mykolay007",role:"master"},{id:"master-olena",name:"Олена",telegramUsername:"o_sarbeeva",role:"master",altegioStaffId:2658785},{id:"master-tester",name:"Mykolay (тест-режим)",telegramUsername:"Mykolay007",role:"master"},{id:"master-oleksandra",name:"Олександра",telegramUsername:"Alexandra_Z7",role:"master",altegioStaffId:2851361},{id:"master-maryana",name:"Мар'яна",telegramUsername:"maryana24021989",role:"master",altegioStaffId:2860168},{id:"master-halyna",name:"Галина",telegramUsername:"Halyna_Maxymiv",role:"master",altegioStaffId:2658783},{id:"admin-viktoria",name:"Вікторія (адміністратор)",telegramUsername:"kolachnykv",role:"admin",altegioStaffId:2643393}],n=new Date;function s(e,t){let a=new Date(e);return a.setMinutes(a.getMinutes()+t),a.toISOString()}let i=[{id:"apt-1001",clientName:"Ірина",serviceName:"Нарощення волосся (повне)",masterId:"master-olena",masterName:"Олена",startAt:s(n,-60),endAt:s(n,-5)},{id:"apt-1002",clientName:"Марія",serviceName:"Корекція нарощення",masterId:"master-oleksandra",masterName:"Олександра",startAt:s(n,-30),endAt:s(n,10)},{id:"apt-1003",clientName:"Оксана",serviceName:"Полірування та укладка",masterId:"master-maryana",masterName:"Мар'яна",startAt:s(n,-20),endAt:s(n,20)},{id:"apt-1004",clientName:"Тестовий клієнт",serviceName:"Нарощення волосся (тест)",masterId:"master-test",masterName:"Тестовий майстер (Mykolay)",startAt:s(n,-10),endAt:s(n,15)}];function o(){return r}function m(e){if(e)return r.find(t=>t.telegramUsername?.toLowerCase()===e.toLowerCase())}function d(e){return r.find(t=>t.altegioStaffId===e)}function l(e){return i.find(t=>t.id===e)}function u(e=15){let t=Date.now(),a=t+6e4*e;return i.filter(e=>{let r=new Date(e.endAt).getTime();return r>=t&&r<=a})}function p(e,t){if(!t)return null;let a=e.start_datetime||e.datetime||e.date,r=e.end_datetime||e.datetime||e.date;if(!a||!r)return console.warn(`[photo-reports] Appointment ${e.id} missing datetime fields`,e),null;let n=e.client?.name||e.client?.display_name||e.client_name||"Клієнт",s=e.service?.title||e.service?.name||e.service_name||"Послуга";return{id:`altegio-${e.id}`,clientName:n,serviceName:s,masterId:t.id,masterName:t.name,startAt:new Date(a).toISOString(),endAt:new Date(r).toISOString()}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,5972],()=>a(8627));module.exports=r})();