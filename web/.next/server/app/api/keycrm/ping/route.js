"use strict";(()=>{var e={};e.id=6032,e.ids=[6032],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8137:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>y,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>h,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>l,dynamic:()=>c,runtime:()=>p});var s=r(9303),n=r(8716),i=r(670),o=r(7070);let p="nodejs",c="force-dynamic";function u(e){if(!e)return"(no auth)";if(e.toLowerCase().startsWith("bearer ")){let t=e.slice(7);return"Authorization: Bearer "+(t.length<=8?"***":t.slice(0,6)+"…***")}return"Authorization: "+(e.length<=8?"***":e.slice(0,6)+"…***")}async function l(){let e=(process.env.KEYCRM_API_URL||"https://openapi.keycrm.app/v1").replace(/\/+$/,""),t=function(){let e=process.env.KEYCRM_BEARER?.trim(),t=process.env.KEYCRM_API_TOKEN?.trim();return e||(t?t.toLowerCase().startsWith("bearer ")?t:`Bearer ${t}`:"")}(),r=`${e}/pipelines?per_page=1`;try{let e=await fetch(r,{headers:{Accept:"application/json",...t?{Authorization:t}:{}},cache:"no-store"}),a=(e.headers.get("content-type")||"").includes("application/json")?await e.json().catch(()=>null):null,s=a?void 0:(await e.text().catch(()=>"")).slice(0,400);return o.NextResponse.json({ok:e.ok,status:e.status,url:r,startsWithBearer:!!t&&t.toLowerCase().startsWith("bearer "),authHeaderPreview:u(t),jsonKeys:a?Object.keys(a):[],snippet:s})}catch(e){return o.NextResponse.json({ok:!1,url:r,startsWithBearer:!!t&&t.toLowerCase().startsWith("bearer "),authHeaderPreview:u(t),error:String(e?.message||e)})}}let h=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/keycrm/ping/route",pathname:"/api/keycrm/ping",filename:"route",bundlePath:"app/api/keycrm/ping/route"},resolvedPagePath:"/Users/mykolay/P-3-0/web/app/api/keycrm/ping/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:g}=h,y="/api/keycrm/ping/route";function v(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,5972],()=>r(8137));module.exports=a})();