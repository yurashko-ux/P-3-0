# Чому сторінка тестів не бачить V1/V2 кампаній

Під час виконання кроку «Пошук кампанії» ми покладаємося на утиліту `kvRead.listCampaigns`. Вона спочатку намагається читати індекси та елементи через REST API Vercel KV (`KV_REST_API_URL` + токени). Якщо ж цих токенів немає, то відбувається перехід на локальний биндинг `@vercel/kv`. Коли обидва канали недоступні або налаштовані не для того середовища, метод повертає порожній масив, і ми просто не отримуємо самі об'єкти кампаній.

Через це V1/V2 не «зчитуються» — до нас не доходить жоден запис кампанії, отже, немає з чого витягти правила. Це не проблема формату самих правил: список `cmp:ids` та відповідні `cmp:item:*` зчитуються коректно, щойно доступ до KV працює. Поки з'єднання з KV немає, будь-які пошуки V1/V2 будуть безрезультатними.

Щоб пересвідчитись, достатньо в тому ж середовищі виконати запит на `kvRead.getRaw('cmp:item:<ID>')` або `kvRead.lrange('cmp:ids')`. Якщо відповідь порожня — значить, проблема у відсутності доступу до KV, а не в логіці обробки V1/V2.
